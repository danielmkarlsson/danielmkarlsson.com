<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>dmk</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link href="/player/dmk-player.css?v=2" rel="stylesheet"> 
  <style type="text/css">

  html {
      box-sizing: border-box;
      height: 100%;
      word-break: normal
      overflow-wrap: normal;
      background-color: white;
      color: black;

      .dark-mode {
          background-color: black;
          color: white;
          a:link, a:visited {
              color: white;
          }
          footnotes {
              color: white;
          }
          play-button {
          filter: invert(1);
      }
      transport {
          filter: invert(1);
      }
  j
      }
  }

  *, *:before, *:after {
    box-sizing: inherit;
  }

  body {
      max-width: 480pt;
      height: 100%;
      margin: auto;
      padding-top: 10pt
      padding-left: 10pt;
      padding: 10pt;
      font-family: Verdana;
      line-height: 140%;
      font-size: 10pt;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;font-smoothing:antialiased;
      color:#222;
      word-break: normal
      overflow-wrap: normal;
  }

  .button1 {
    border: none;
    color: white;
    text-align: center;
    text-decoration: none;
    font-size: 16px;
    cursor: pointer;
  }

  h1,h2,h3{
      line-height:1.2
  }

  a:link, a:visited {
      color: black;
      text-decoration: none;
  }

  a:hover, a:active {
      color: black;
      text-decoration: underline;
  }

  .contact {
    margin-bottom: 15%;
  }

  .footnotes {
    margin-top: 100%;
    padding-bottom: 10px;
    color: black;
  }

  .blinking{
          animation:blinkingText 0.8s infinite;
      }

      @keyframes blinkingText{
          0%{     color: #000;    }
          50%{    color: transparent; }
          100%{   color: #000;    }
      }

  pre code {
    font-size: 12px;
    line-height: normal;
    width: 300%;
    background: #000;
    color: #fff;
    display: block;
    padding: 10pt;
  }

  /* audio player */

  .player {
    width: 100%;
  }


  .tab { 
         display:inline-block; 
         margin-left: 40px; 
  }

  img {
      max-width:100%;
      height:auto;
  }

  .transport {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    margin-bottom: 15px;
  }

  #player-title {
    /* text-align: center; */
    text-align: left;
    font-size: 1.0em;
    font-weight: 600;

  }

  #play-button {
    margin: 0;
    padding: 0;
    width: 30px; /* prevent resize */

    background: transparent;
    outline: 0;
    border: none;

    text-align: left;

    font-size: 1.25em;
    white-space: nowrap;
  }

  #current-time {
    white-space: nowrap;
    font-size: 1em;
    margin-left: 10px;
  }

  #time-line {
    position: relative;
    width: 100%;
    height: 25px;
    border-bottom: 1px solid black;
  }

  #progress {
    position: absolute;
    top: 21px; /* depends on timeline height */
    left: 0;

    height: 4px;
    background: black;
  }

  .playlist {
    padding: 0;
    margin: 0;
    list-style: none;

    height: 100%;
    overflow: auto;
  }

  .playlist-item {
    display: flex;
    justify-content: space-between;

    padding: 0.25rem 0.25rem;
    border-bottom: 1px solid #eee;

    /* prevent div resize when selecting track */
    border-left: 1px solid transparent;
  }

  .playlist-item.selected {
    border-left: 1px solid black;
  }

  .playlist-item.selected:hover {
    border-left: 1px solid black;
  }

  .playlist-item:hover {
    background: #eee;
    border-color: #eee;
  }

  .playlist::-webkit-scrollbar {
    width: 12px;
  }

  .playlist::-webkit-scrollbar-thumb {
    background-color: #888;
    border-left: 6px solid white;
  }

  video, .avia-video *, *:focus {
    outline: 0!important;
    outline: none!important;
    outline-width: 0;
   -webkit-tap-highlight-color: rgba(0,0,0,0)!important;
  }

  </style>
  <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
</head>
<body>
<br>
<center>
<strong>Towards a music for large ensemble</strong>
</center>
<p><br> I’ve been making a bunch of 20 minute pieces with <a href="./superclean-installparty">SuperClean</a> for some time now. I am fond of the idea that there can be pieces within pieces, or at least some modularity or memory. Some degree of referentially is there anyway. It’s to do with the idea of slow accumulation of small things eventually amounting to a significantly larger something. As the work has progressed, I’ve been thinking more about the uniqueness requirement for all these examples of working with sample packs that I’ve made by playing and recording an instrument or an object. I’ve noticed that there are a lot of sounds that have to do with either strings or metals. Also there is a growing number of variations of bellowed pipes. A couple of different organs, accordion and shruti. They all sound different spectrally, but I also play them differently, so modes of play is now firmly a part of how I think about this. When a group of these similar instruments arrive together I find that it is lovely to hear their sometimes subtle difference in color augmented by how they are played. I am sharing the code and the sample packs on my <a href="./log">log</a> page as I finish the pieces. As this is a commission for <a href="http://www.edition-festival.com/">Edition</a>, and time is, as always, moving forward, I won’t always make the solo piece first. It will have to depend, on a lot of things. I have to allocate my time and energy wisely. I figure I’ll get around to doing the solo pieces I didn’t feel I had time to do now, after I do the gig. Could be a nice way to soften the curvature of coming down from the high of working on the piece. Maybe, who knows. First I thought that I’d be set with twelve instruments. Then I thought for sure that sixteen of those single instrument or object sample pack pieces would be enough to make an ensemble piece from. I decided on twelve initially because after searching around a lil bit I felt that twelve unique instruments mapped well enough for me onto the idea of the sinfonietta. I have changed my mind again now about the size of the ensemble. I think I’m just going to keep adding instruments as I go. I am now thinking I need to have more variation in terms of physical materials and playing techniques used in order to round out the ensemble. Also this idea needs to be carefully balanced against density. If things get too dense then precious details get lost. Also I’m thinking about how some of these recordings have tiny iterative sounds within their more continuous sound. I have found these to be valuable in terms of picking out distinct features, and then that way kind of keeping track of them in the music as it unfolds. The latest idea I’ve had is to make chords. I really didn’t think that this idea would work, but it does. I am very grateful. I’ve added a high register Organ chord instrument and a high register Euphonium instrument. They use the same pitch and scale material as in the big piece. I find that they work well together, although that is quite an unlikely occurrence. I now think of them as bookends which provide support and cohesion. I’ve now finally gotten to 64 instruments so that’s the instrumentation taken care of. Things are starting to crystallize. I now have a couple of different categories or groups of instruments, or behaviors if you will. In this last chord group I have the highest organ registration with the least amount of overtones that I recorded at Markuskyrkan. Then there is also the highest note on my biggest Zither played with an ebow in overtone mode. Then there is the highest note I could play on the Euphonium I recorded in the ballroom at the shared studio space with the mics at the other end of the room. Lastly there is the Trumpet I recorded with a lapel mic inside my silent brass. So four of those high frequency chord instruments. Also I got eleven of the transient, single hit instruments. They only play once when the larger enveloping routine that starts and stops Pdefs chooses a new constellation. Also there are the group of instruments that have attack time set to one second. They come in just at the tail of those transients, so together they can form a kind of gestalt made up of multiple instruments. Lastly there are the sustained sounds which fade in and out very slowly and form long arcs. I had been putting off breaking out the onset instruments into their own Pbind factory. Once I got that sorted things fell into place and now the piece is ready to be performed.</p>
<div class="dmk-player" data-playlist="now/index.json">

</div>
<p><br></p>
<p><br></p>
<pre class="text"><code>(
~clean.csf(&quot;~/snd/acf&quot;); ~clean.lsf(&quot;~/snd/bbu&quot;); ~clean.csf(&quot;~/snd/bfn&quot;); ~clean.csf(&quot;~/snd/bwm&quot;); ~clean.csf(&quot;~/snd/gls&quot;);
~clean.csf(&quot;~/snd/gvs&quot;); ~clean.csf(&quot;~/snd/met&quot;); ~clean.csf(&quot;~/snd/mrb&quot;); ~clean.csf(&quot;~/snd/mtf&quot;); ~clean.csf(&quot;~/snd/phg&quot;);
~clean.csf(&quot;~/snd/pno&quot;); ~clean.csf(&quot;~/snd/rec&quot;); ~clean.csf(&quot;~/snd/sbt&quot;); ~clean.csf(&quot;~/snd/smb&quot;); ~clean.csf(&quot;~/snd/snr&quot;);
~clean.lsf(&quot;~/snd/stn&quot;); ~clean.csf(&quot;~/snd/swp&quot;); ~clean.csf(&quot;~/snd/tap&quot;); ~clean.csf(&quot;~/snd/tgt&quot;); ~clean.csf(&quot;~/snd/thb&quot;);
~clean.csf(&quot;~/snd/trp&quot;); ~clean.csf(&quot;~/snd/vcl&quot;); ~clean.csf(&quot;~/snd/zth&quot;); ~clean.lsf(&quot;~/snd/mtb&quot;); ~clean.csf(&quot;~/snd/hld&quot;);
~clean.lsf(&quot;~/snd/gng&quot;); ~clean.csf(&quot;~/snd/lsh&quot;); ~clean.csf(&quot;~/snd/bcm&quot;); ~clean.lsf(&quot;~/snd/fmr&quot;); ~clean.csf(&quot;~/snd/nsm&quot;);
~clean.lsf(&quot;~/snd/pnf&quot;); ~clean.csf(&quot;~/snd/ztn&quot;); ~clean.csf(&quot;~/snd/fms&quot;); ~clean.csf(&quot;~/snd/eph&quot;); ~clean.csf(&quot;~/snd/orb&quot;);
~clean.csf(&quot;~/snd/nsg&quot;); ~clean.csf(&quot;~/snd/dcp&quot;); ~clean.lsf(&quot;~/snd/dpl&quot;); ~clean.csf(&quot;~/snd/wsl&quot;); ~clean.csf(&quot;~/snd/spb&quot;);
~clean.csf(&quot;~/snd/hgf&quot;); ~clean.csf(&quot;~/snd/vla&quot;); ~clean.csf(&quot;~/snd/ocv&quot;); ~clean.csf(&quot;~/snd/pck&quot;); ~clean.csf(&quot;~/snd/cbg&quot;);
~clean.csf(&quot;~/snd/nmp&quot;); ~clean.csf(&quot;~/snd/tlb&quot;); ~clean.csf(&quot;~/snd/shr&quot;); ~clean.csf(&quot;~/snd/nsb&quot;); ~clean.lsf(&quot;~/snd/mtr&quot;);
~clean.lsf(&quot;~/snd/glk&quot;); ~clean.lsf(&quot;~/snd/res&quot;); ~clean.csf(&quot;~/snd/cha&quot;); ~clean.csf(&quot;~/snd/bcy&quot;); ~clean.csf(&quot;~/snd/nkh&quot;); 
~clean.csf(&quot;~/snd/ctb&quot;); ~clean.csf(&quot;~/snd/mtl&quot;); ~clean.csf(&quot;~/snd/est&quot;); ~clean.lsf(&quot;~/snd/cta&quot;); ~clean.csf(&quot;~/snd/cla&quot;);
~clean.csf(&quot;~/snd/mks&quot;); ~clean.csf(&quot;~/snd/mkc&quot;); ~clean.csf(&quot;~/snd/epc&quot;); ~clean.csf(&quot;~/snd/ztc&quot;); ~clean.csf(&quot;~/snd/trc&quot;); 
~slnd = Scala(&quot;~/scl/slendro.scl&quot;);
~zsts = Scala(&quot;~/scl/07-37.scl&quot;);
~bal5 = Scala(&quot;~/scl/balafon5.scl&quot;);
~dip7 = Scala(&quot;~/scl/diaphonic_7.scl&quot;);
~dusc = Scala(&quot;~/scl/dudon_saba-c.scl&quot;);
)

(
~a = {|type, snd, spd, num, bgn, atk, octave, degree, aux, cav, amp|
    var b =
    Pbind(*[
        type: type,
        snd: snd,
        spd: spd,
        num: num,
        flp: Pwhite(0, 1),
        bgn: bgn,
        pan: Pmeanrand(0.1, 0.9),
        atk: atk,
        hld: Plprand(39.0, 59.0),
        rel: Phprand(31.0, 51.0),
        crv: Phprand(1.0, 5.0),
        crt: Pkey(\crv).neg,
        dur: Pkey(\atk) + Pkey(\hld) + Pkey(\rel) / Pexprand(1.75, 4.0),
        sustain: Pkey(\atk) + Pkey(\hld) + Pkey(\rel) + 199,
        cav: cav,
        cai: Pseg(Phprand(0.5, 1.0), Pwhite(30.0, 90.0), \wel, inf),
        scale: Pdup(Plprand(55, 111), Pxshuf([
                Scale.harmonicMinor(\sept2),
                Scale.melodicMinor(\sept1),
                Scale.ionian(\just),
                Scale.mixolydian(\mean4),
                ~slnd.scale,
                ~zsts.scale,
                ~bal5.scale,
                ~dip7.scale,
                ~dusc.scale,
            ], inf)),
        octave: octave,
        degree: degree,
        amp: amp,
        aux: aux,
        //calcFreq: Pfunc{|ev|ev.use{ev.freq.asStringPrec(48).postln}},
        //hpf: 100,
    ]);
    Pseq([b], inf);
};
 
~c = {|type, snd, spd, num, bgn, atk, octave, degree, aux, cav, amp|
    var d =
    Pbind(*[
        type: type,
        snd: snd,
        spd: spd,
        num: num,
        flp: Pwhite(0, 1),
        bgn: bgn,
        pan: Pmeanrand(0.1, 0.9),
        atk: atk,
        hld: Plprand(39.0, 59.0),
        rel: Phprand(31.0, 51.0),
        crv: Phprand(2.0, 7.0),
        crt: Pkey(\crv).neg,
        dur: Pkey(\atk) + Pkey(\hld) + Pkey(\rel) / Pexprand(1.75, 4.0),
        sustain: Pkey(\atk) + Pkey(\hld) + Pkey(\rel) + 199,
        cav: cav,
        cai: Pseg(Phprand(0.5, 1.0), Pwhite(30.0, 90.0), \wel, inf),
        scale: Pdup(Plprand(55, 111), Pxshuf([
                Scale.harmonicMinor(\sept2),
                Scale.melodicMinor(\sept1),
                Scale.ionian(\just),
                Scale.mixolydian(\mean4),
                ~slnd.scale,
                ~zsts.scale,
                ~bal5.scale,
                ~dip7.scale,
                ~dusc.scale,
            ], inf)),
        octave: octave,
        degree: degree,
        amp: amp,
        aux: aux,
        //calcFreq: Pfunc{|ev|ev.use{ev.freq.asStringPrec(48).postln}},
        //hpf: 100,
    ]);
    Pseq([d], inf);
};
)

(
~bst = 3.0;
~aux = Pxshuf((0, 1 .. 15), inf).asStream;
~atk = Phprand(15.0, 30.0).asStream; 
~rst = Pwrand2([\cln, \], [1, 1], inf).asStream;
~bgn = Pwhite(0.0, 0.75).asStream; // do the math on these individually
~bbuNum = Pxshuf((0 .. 182), inf).asStream;
~stnNum = Pxshuf((0 .. 5), inf).asStream;
~mtbNum = Pxshuf((0 .. 10), inf).asStream;
~fmrNum = Pxshuf((0 .. 30), inf).asStream;
~gngNum = Pxshuf((0 .. 15), inf).asStream;
~pnfNum = Pxshuf((0 .. 12), inf).asStream;
~metNum = Pxshuf((0 .. 3), inf).asStream;
~pnoNum = Pxshuf((0 .. 3), inf).asStream;
~recNum = Pxshuf((0 .. 4), inf).asStream;
~sbtNum = Pxshuf((0 .. 4), inf).asStream;
~snrNum = Pxshuf((0 .. 25), inf).asStream;
~thbNum = Pxshuf((0 .. 3), inf).asStream;
~trpNum = Pxshuf((0 .. 3), inf).asStream;
~zthNum = Pxshuf((0 .. 2), inf).asStream;
~lshNum = Pxshuf((0 .. 55), inf).asStream;
~bfnNum = Pxshuf((0 .. 2), inf).asStream;
~bwmNum = Pxshuf((0 .. 7), inf).asStream;
~orbNum = Pxshuf((0 .. 6), inf).asStream;
~dcpNum = Pxshuf((0 .. 4), inf).asStream;
~dplNum = Pxshuf((0 .. 29), inf).asStream;
~spbNum = Pxshuf((0 .. 3), inf).asStream;
~cbgNum = Pxshuf((0 .. 16), inf).asStream;
~nmpNum = Pxshuf((0 .. 6), inf).asStream;
~tlbNum = Pxshuf((0 .. 3), inf).asStream;
~shrNum = Pxshuf((0 .. 3), inf).asStream;
~mtrNum = Pxshuf((0 .. 4), inf).asStream;
~mtlNum = Pxshuf((0 .. 9), inf).asStream;
~glkNum = Pxshuf((15 .. 29), inf).asStream;
~resNum = Pxshuf((0 .. 64), inf).asStream;
~bcyNum = Pxshuf((0 .. 39), inf).asStream;
~estNum = Pxshuf((0 .. 7), inf).asStream;
Pdef(00, ~c.(Pseq([Pwrand2([\cln, \], [1, 0], 1), Pseq([\], inf)], inf), \bbu, 1, Pfunc({~bbuNum.next}), 0, 0, 5, 0, Pfunc({~aux.next}) + 16, 0, (Phprand(-12.0, -6.0) + ~bst).dbamp));
Pdef(01, ~c.(Pseq([Pwrand2([\cln, \], [0, 16], 1), Pseq([\], inf)], inf), \stn, 1, Pfunc({~stnNum.next}), 0, 0, 5, Plprand(0, 1), Pfunc({~aux.next}) + 16, 0, (Phprand(-12.0, -9.0) + ~bst).dbamp));
Pdef(02, ~c.(Pseq([Pwrand2([\cln, \], [1, 0], 1), Pseq([\], inf)], inf), \mtb, 1, Pfunc({~mtbNum.next}), 0, 0, 5, 0, Pfunc({~aux.next}) + 16, 0, (Plprand(-21.0, -18.0) + ~bst).dbamp));
Pdef(03, ~c.(Pseq([Pwrand2([\cln, \], [1, 0], 1), Pseq([\], inf)], inf), \fmr, 1, Pfunc({~fmrNum.next}), 0, 0.05, 5, Pxshuf((0 .. 3), inf), Pfunc({~aux.next}), 1, (Plprand(-18.0, -12.0) + ~bst).dbamp));
Pdef(04, ~c.(Pseq([Pwrand2([\cln, \], [1, 0], 1), Pseq([\], inf)], inf), \gng, 1, Pfunc({~gngNum.next}), 0, 1/32, Pwhite(5, 6), 0, Pfunc({~aux.next}), 1, (Phprand(-18.0, -12.0) + ~bst).dbamp));
Pdef(05, ~c.(Pseq([Pwrand2([\cln, \], [1, 0], 1), Pseq([\], inf)], inf), \pnf, 1, Pfunc({~pnfNum.next}), 0, 0, Phprand(3, 5), 0, Pfunc({~aux.next}) + 16, 0, (Phprand(-9.0, -6.0) + ~bst).dbamp));
Pdef(06, ~c.(Pseq([Pwrand2([\cln, \], [1, 0], 1), Pseq([\], inf)], inf), \dpl, 1, Pfunc({~dplNum.next}), 0, 0, 5, 0, Pfunc({~aux.next}) + 16, 0, (Phprand(-12.0, -9.0) + ~bst).dbamp));
Pdef(07, ~a.(Pseq([Pwrand2([\cln, \], [1, 0], 1), Pseq([\], inf)], inf), Pseq([\mtl, \mtr], inf), 1, Pfunc({~dplNum.next}), 0, 0, 5, 0, Pfunc({~aux.next}) + 16, 0, (Phprand(-9.0, -3.0) + ~bst).dbamp));
Pdef(08, ~c.(Pseq([Pwrand2([\cln, \], [1, 0], 1), Pseq([\], inf)], inf), \glk, 1, 0, 0, 0, 4, Plprand(0, 7), Pfunc({~aux.next}) + 16, 0, (Plprand(-15.0, -9.0) + ~bst).dbamp)); 
Pdef(09, ~c.(Pseq([Pwrand2([\cln, \], [1, 0], 1), Pseq([\], inf)], inf), \res, 1, Pfunc({~dplNum.next}), 0, 0, 4, Plprand(0, 11), Pfunc({~aux.next}), 1, (Plprand(-9.0, -3.0) + ~bst).dbamp)); 
Pdef(10, ~c.(Pseq([Pwrand2([\cln, \], [1, 0], 1), Pseq([\], inf)], inf), \cta, 1, 0, 0, 0, 5, Pxshuf((-2 .. 2), inf), Pfunc({~aux.next}), 1, (Plprand(-18.0, -12.0) + ~bst).dbamp)); 
Pdef(11, ~a.(Pwrand2([\cln, \], [1, 16], inf), \met, 1, Pfunc({~metNum.next}), Pfunc({~bgn.next}), Pfunc({~atk.next}), Pdup(Plprand(1, 11), Phprand(5, 6)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-21.0, -15.0) + ~bst).dbamp));
Pdef(12, ~a.(Pwrand2([\cln, \], [1, 4], inf), \mrb, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), Pdup(Plprand(1, 11), Phprand(7, 8)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-15.0, -9.0) + ~bst).dbamp));
Pdef(13, ~a.(Pfunc({~rst.next}), \mtf, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), 5, Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-18.0, -12.0) + ~bst).dbamp));
Pdef(14, ~a.(Pwrand2([\cln, \], [1, 8], inf), \phg, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), Pdup(Plprand(1, 11), Plprand(5, 7)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-15.0, -9.0) + ~bst).dbamp));
Pdef(15, ~a.(Pwrand2([\cln, \], [1, 4], inf), \pno, 1, Pfunc({~pnoNum.next}), Pfunc({~bgn.next}), Pfunc({~atk.next}), 6, Pmeanrand(-1, 1), Pfunc({~aux.next}), 1, (Plprand(-15.0, -9.0) + ~bst).dbamp));
Pdef(16, ~a.(Pwrand2([\cln, \], [1, 8], inf), \rec, 1, Pfunc({~recNum.next}), 0, Pfunc({~atk.next}), Pdup(Plprand(1, 11), Phprand(4, 6)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-15.0, -9.0) + ~bst).dbamp)); 
Pdef(17, ~a.(Pwrand2([\cln, \], [1, 4], inf), \sbt, 1, Pfunc({~sbtNum.next}), 0, Plprand(1.0, 2.0), 3, Phprand(0, 7), Pfunc({~aux.next}), 1, (-6.0 + ~bst).dbamp));
Pdef(18, ~a.(Pwrand2([\cln, \], [1, 16], inf), \smb, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), 5, Phprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-15.0, -9.0) + ~bst).dbamp));
Pdef(19, ~a.(Pwrand2([\cln, \], [1, 8], inf), \snr, 1, Pfunc({~snrNum.next}), 0, Plprand(1.0, 7.0), Pdup(Plprand(1, 11), Pmeanrand(4, 6)), Pmeanrand(-3, 4), Pfunc({~aux.next}), 1, (Plprand(-18.0, -12) + ~bst).dbamp)); //16
Pdef(20, ~a.(Pwrand2([\cln, \], [1, 8], inf), \swp, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), Pdup(Plprand(1, 11), Phprand(5, 8)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-18.0, -12.0) + ~bst).dbamp));
Pdef(21, ~a.(Pwrand2([\cln, \], [1, 8], inf), \tap, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), Pdup(Plprand(1, 11), Plprand(4, 7)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-18.0, -12.0) + ~bst).dbamp));
Pdef(22, ~a.(Pwrand2([\cln, \], [1, 16], inf), \tgt, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), 4, Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-15.0, -15.0) + ~bst).dbamp));
Pdef(23, ~a.(Pwrand2([\cln, \], [1, 8], inf), \thb, 1, Pfunc({~thbNum.next}), Pfunc({~bgn.next}), Pfunc({~atk.next}), Pdup(Plprand(1, 11), Phprand(5, 8)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-21.0, -15.0) + ~bst).dbamp));
Pdef(24, ~a.(Pwrand2([\cln, \], [1, 8], inf), \trp, 1, Pfunc({~trpNum.next}), 0, Pfunc({~atk.next}), Pdup(Plprand(1, 11), Pwhite(4, 5)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-27.0, -21.0) + ~bst).dbamp));
Pdef(25, ~a.(Pwrand2([\cln, \], [1, 2], inf), \vcl, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), Pdup(Plprand(3, 11), Phprand(5, 7)), Pxshuf((0 .. 7), inf), Pfunc({~aux.next}), 1, (Plprand(-15.0, -9.0) + ~bst).dbamp));
Pdef(26, ~a.(Pwrand2([\cln, \], [1, 8], inf), \zth, 1, Pfunc({~trpNum.next}), Pfunc({~bgn.next}), Pfunc({~atk.next}), Pdup(Plprand(1, 11), Pmeanrand(5, 8)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-15.0, -9.0) + ~bst).dbamp));
Pdef(27, ~a.(Pwrand2([\cln, \], [1, 4], inf), \hld, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), Pdup(Plprand(1, 11), Pwhite(3, 5)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-15.0, -3.0) + ~bst).dbamp));
Pdef(28, ~a.(Pfunc({~rst.next}), \lsh, 1, Pfunc({~lshNum.next}), Pfunc({~bgn.next}), Pfunc({~atk.next}), Plprand(3, 4), Plprand(0, 7), Pfunc({~aux.next}), 1, (Phprand(-18.0, -12.0) + ~bst).dbamp));
Pdef(29, ~a.(Pfunc({~rst.next}), \acf, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), Pdup(Plprand(1, 11), Phprand(5, 8)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-21.0, -15.0) + ~bst).dbamp));
Pdef(30, ~a.(Pfunc({~rst.next}), \bcm, 1, Pwhite(0, 1), Pfunc({~bgn.next}), Pfunc({~atk.next}), Pdup(Plprand(1, 11), Pwhite(5, 7)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-18.0, -9.0) + ~bst).dbamp));
Pdef(31, ~a.(Pwrand2([\cln, \], [1, 4], inf), \bfn, 1, Pfunc({~bfnNum.next}), Pfunc({~bgn.next}), Pfunc({~atk.next}), Pdup(Plprand(1, 11), Phprand(5, 7)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-21.0, -12) + ~bst).dbamp));
Pdef(32, ~a.(Pwrand2([\cln, \], [1, 8], inf), \bwm, 1, Pfunc({~bwmNum.next}), 0, Pfunc({~atk.next}), Pdup(Plprand(1, 11), Plprand(5, 8)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-21.0, -15) + ~bst).dbamp));
Pdef(33, ~a.(Pwrand2([\cln, \], [1, 8], inf), \nsm, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), Pdup(Plprand(1, 11), Plprand(5, 7)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Phprand(-21.0, -18.0) + ~bst).dbamp));
Pdef(34, ~a.(Pfunc({~rst.next}), \gls, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), Pdup(Plprand(1, 11), Plprand(5, 7)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-27.0, -21) + ~bst).dbamp));
Pdef(35, ~a.(Pwrand2([\cln, \], [1, 8], inf), \ztn, 1, 0, 0, Plprand(0.0, 0.1), 4, Plprand(0, 7), Pfunc({~aux.next}) + 16, 0, (Plprand(-24.0, -18) + ~bst).dbamp));
Pdef(36, ~a.(Pwrand2([\cln, \], [1, 4], inf), \fms, 1, 0, Pwhite(0.0, 1.0), Pfunc({~atk.next}), Pwhite(3, 4), Prand([0, Plprand(0, 7, 1)], inf), Pfunc({~aux.next}) + 16, 0, (Plprand(-21.0, -15) + ~bst).dbamp));
Pdef(37, ~a.(Pwrand2([\cln, \], [1, 8], inf), \eph, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), 5, Plprand(-4, 3), Pfunc({~aux.next}), 1, (Plprand(-24.0, -18) + ~bst).dbamp));
Pdef(38, ~a.(Pwrand2([\cln, \], [1, 2], inf), \orb, 1, Pfunc({~orbNum.next}), Plprand(0.0, 0.25), 1, 5, Plprand(0, 3), Pfunc({~aux.next}), 1, (Plprand(-12.0, -6) + ~bst).dbamp));
Pdef(39, ~a.(Pwrand2([\cln, \], [1, 2], inf), \nsg, 1, 0, Plprand(0.0, 0.75), 1, Pwhite(3, 4), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-21.0, -15) + ~bst).dbamp));
Pdef(40, ~a.(Pfunc({~rst.next}), \dcp, 1, Pfunc({~dcpNum.next}), 0, 1, 4, Plprand(4, 10), Pfunc({~aux.next}), 1, (Plprand(-24.0, -18.0) + ~bst).dbamp));
Pdef(41, ~a.(Pwrand2([\cln, \], [1, 8], inf), \gvs, 1, 0, Pwhite(0, 1/4), Pfunc({~atk.next}), Pdup(Plprand(1, 11), Plprand(5, 6)), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-18.0, -15.0) + ~bst).dbamp));
Pdef(42, ~a.(Pwrand2([\cln, \], [1, 8], inf), \wsl, 1, 0, Phprand(0.0, 3/4), 1, Pwhite(3, 5), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-36.0, -33.0) + ~bst).dbamp));
Pdef(43, ~a.(Pwrand2([\cln, \], [1, 16], inf), \spb, 1, Pfunc({~spbNum.next}), Plprand(0.0, 3/4), 1, 4, Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-15.0, -12.0) + ~bst).dbamp));
Pdef(44, ~a.(Pwrand2([\cln, \], [1, 4], inf), \hgf, 1, 0, Plprand(0.0, 3/4), 1, 5, Pmeanrand(-3, 4).round, Pfunc({~aux.next}), 1, (Plprand(-12.0, -18.0) + ~bst).dbamp));
Pdef(45, ~a.(Pwrand2([\cln, \], [1, 4], inf), \vla, 1, 0, Pwhite(0.0, 3/4), 1, Pwhite(3, 5), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-12.0, -18) + ~bst).dbamp));
Pdef(46, ~a.(Pwrand2([\cln, \], [1, 2], inf), \ocv, 1, 0, Pwhite(0.0, 3/4), 1, Pwhite(3, 4), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-12.0, -18.0) + ~bst).dbamp));
Pdef(47, ~a.(Pwrand2([\cln, \], [1, 16], inf), \pck, 1, 0, Plprand(0.0, 3/4), 1, Pwhite(3, 5), Plprand(0, 7), Pfunc({~aux.next}) + 16, 0, (Plprand(-36.0, -30.0) + ~bst).dbamp));
Pdef(48, ~a.(Pwrand2([\cln, \], [1, 4], inf), \cbg, 1, Pfunc({~cbgNum.next}), Pwhite(0.0, 0.1), 1, Pwhite(4, 5), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-18.0, -15.0) + ~bst).dbamp));
Pdef(49, ~a.(Pwrand2([\cln, \], [1, 4], inf), \nmp, 1, Pfunc({~nmpNum.next}), Pwhite(0.0, 0.1), 1, Pwhite(4, 5), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-15.0, -12.0)  + ~bst).dbamp));
Pdef(50, ~a.(Pwrand2([\cln, \], [1, 2], inf), \tlb, 1, Pfunc({~tlbNum.next}), Pwhite(0.0, 0.1), Pfunc({~atk.next}), Pwhite(4, 5), Plprand(0, 7), Pfunc({~aux.next} + 16), 0, (Plprand(-21.0, -15.0) + ~bst).dbamp));
Pdef(51, ~a.(Pwrand2([\cln, \], [1, 8], inf), \shr, 1, Pfunc({~shrNum.next}), Pwhite(0.0, 0.1), Pfunc({~atk.next}), Pwhite(3, 4), Pxshuf((0 .. 7), inf), Pfunc({~aux.next}), 1, (Plprand(-30.0, -24.0) + ~bst).dbamp));
Pdef(52, ~a.(Pwrand2([\cln, \], [1, 2], inf), \nsb, 1, 0, Pwhite(0.0, 0.1), Pfunc({~atk.next}), Plprand(3, 5), Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-15.0, -9.0) + ~bst).dbamp));
Pdef(53, ~a.(Pwrand2([\cln, \], [1, 4], inf), \cha, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), 4, Phprand(0, 3), Pfunc({~aux.next}), 1, (Plprand(-15.0, -9.0) + ~bst).dbamp));
Pdef(54, ~a.(Pwrand2([\cln, \], [1, 8], inf), \bcy, 1, Pfunc({~bcyNum.next}), 0, 0, 5, Pmeanrand(-3, 4).round, Pfunc({~aux.next}), 1, (Plprand(-21.0, -15.0) + ~bst).dbamp));
Pdef(55, ~a.(Pwrand2([\cln, \], [1, 2], inf), \nkh, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), 5, Pwhite(-2, 5), Pfunc({~aux.next}), 1, (Plprand(-24.0, -18.0) + ~bst).dbamp));
Pdef(56, ~a.(Pwrand2([\cln, \], [1, 4], inf), \ctb, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), 5, Plprand(-4, 4), Pfunc({~aux.next} + 16), 0, (Plprand(-21.0, -15.0) + ~bst).dbamp));
Pdef(57, ~a.(Pwrand2([\cln, \], [1, 4], inf), \est, 1, Pfunc({~estNum.next}), Pfunc({~bgn.next}), Pfunc({~atk.next}), Pmeanrand(4, 7).round, Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-12.0, -6.0) + ~bst).dbamp));
Pdef(58, ~a.(Pwrand2([\cln, \], [1, 2], inf), \cla, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), 5, Pmeanrand(-16, 0).round.unique, Pfunc({~aux.next}), 1, (Plprand(-18.0, -12.0)  + ~bst - Pkey(\degree).linlin(-15, 0, 0, 6)).dbamp));
Pdef(59, ~a.(Pwrand2([\cln, \], [1, 2], inf), \mks, 1, 0, Pfunc({~bgn.next}), Pfunc({~atk.next}), 5, Plprand(0, 7), Pfunc({~aux.next}), 1, (Plprand(-15.0, -9.0) + ~bst).dbamp));
Pdef(60, ~a.(Pwrand2([\cln, \], [1, 2], inf), \mkc, 1, 0, Pfunc({~bgn.next}), Phprand(30.0, 60.0), 5, Phprand(-14, 7), Pfunc({~aux.next}), 1, (Plprand(-18.0, -15.0) + ~bst).dbamp));
Pdef(61, ~a.(Pwrand2([\cln, \], [1, 1], inf), \epc, 1, 0, Pfunc({~bgn.next}), Phprand(30.0, 60.0), 5, Phprand(-14, 7), Pfunc({~aux.next}), 1, (Plprand(-9.0, -3.0) + ~bst).dbamp));
Pdef(62, ~a.(Pwrand2([\cln, \], [1, 2], inf), \ztc, 1, 0, Pfunc({~bgn.next}), Phprand(30.0, 60.0), 5, Phprand(-14, 7), Pfunc({~aux.next}), 1, (Plprand(-15.0, -9.0) + ~bst).dbamp));
Pdef(63, ~a.(Pwrand2([\cln, \], [1, 2], inf), \trc, 1, Pxrand([0, 1], inf), Pfunc({~bgn.next}), Phprand(30.0, 60.0), 5, Phprand(-14, 7), Pfunc({~aux.next}), 1, (Plprand(-15.0, -9.0) + ~bst).dbamp));
)

(
//var onsetNumDefs = (00 .. 10);
var sustainNumDefs = Pxshuf((11 .. 63), inf).asStream; 
var onsetNumDefs = Pxshuf((0 .. 10), inf).asStream; 
~sustainMinStart = 12;
~sustainMaxStart = 24;
~onsetMinStart = 2;
~onsetMaxStart = 4;
~sustainMinWait = 60;
~sustainMaxWait = 120;

if (~sustainIds.notNil) {
    ~sustainRoutine.stop;
    ~sustainIds.do {arg id;
        &quot;Stopped Pdef(%)&quot;.format(id).postln;
        Pdef(id).stop;
    };

};

~sustainRoutine = Routine {
    loop {
        var n = rrand(~sustainMinStart, ~sustainMaxStart);
        //~ids = sustainNumDefs.scramble.keep(n);
        ~sustainIds = sustainNumDefs.nextN(n);
        ~sustainIds.do {arg id;
            &quot;Started Pdef(%)&quot;.format(id).postln;
            Pdef(id).play(quant: 1);
        };
        exprand(~sustainMinWait, ~sustainMaxWait).wait;
        ~sustainIds.do {arg id;
            &quot;Stopped Pdef(%)&quot;.format(id).postln;
            Pdef(id).stop;
        };
    }
}.play;


if (~onsetIds.notNil) {
    ~onsetRoutine.stop;
    ~onsetIds.do {arg id;
        &quot;Stopped Pdef(%)&quot;.format(id).postln;
        Pdef(id).stop;
    };

};

~onsetRoutine = Routine {
    loop {
        var n = rrand(~onsetMinStart, ~onsetMaxStart);
        //~onsetIds = onsetNumDefs.scramble.keep(n);
        ~onsetIds = onsetNumDefs.nextN(n);
        ~onsetIds.do {arg id;
            &quot;Started Pdef(%)&quot;.format(id).postln;
            Pdef(id).play(quant: 1);
        };
        exprand(~sustainMinWait, ~sustainMaxWait).wait; // correct
        ~onsetIds.do {arg id;
            &quot;Stopped Pdef(%)&quot;.format(id).postln;
            Pdef(id).stop;
        };
    }
}.play;
)</code></pre>
<p><br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br></p>
<script async type="text/javascript" src="/player/dmk-player.js?v=5"></script>
<script>
window.addEventListener('load', function () {
  var elements = document.getElementsByClassName('dmk-player');
  var players = Array.from(elements).map(function (el) {
    if (el.dataset) {
      var rootUrl = window.location.origin;
      var playlist = el.dataset.playlist;
      var isVideo = !!el.dataset.isVideo;
      var layout = {
        title: false,
        elapsedTime: false
      };
      var options = {
        playlist: playlist,
        isVideo: isVideo,
        rootUrl: rootUrl
      };
      return new DMKPlayer(el, options, layout);
    }
  });
  players.forEach(function (player, index) {
    player.index = index;
    player.on('play', function () {
      players.forEach(function (p) {
        if (p.index !== player.index && p.isPlaying) {
          p.stop();
        }
      });
    });
  });
});
</script>
<script>
function goToURL() {
    var links = [
        "./a-collapse-of-structures/",
        "./map/",
        "./now/",
        "./ruins-in-the-distance",
        "./gigs",
        "./log",
        "./log",
        "./frequently-asked-questions",
        "./list",
        "./etudes",
        "./sc4reaper",
        "./superclean-installparty",
        "./utilities",
        "./recipes",
        "./pieces",
        "./links",
    ];

    // get a random number between 0 and the number of links
    var randIdx = Math.round(Math.random() * (links.length - 1));
    // construct the link to be opened
    var root = window.location.protocol + '//' + window.location.host;
    var link = root + '/' + links[randIdx];

    document.location.href = link;
};
</script>
<p align="right">
<a href="#" onClick="goToURL()">∞</a>
</p>
<p><br> <br></p>
</body>
</html>
